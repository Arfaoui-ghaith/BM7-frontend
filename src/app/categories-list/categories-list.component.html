<ng-container>
  <main id="main" class="main">

    <div class="pagetitle">
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item">Categories</li>
          <li class="breadcrumb-item active">List</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section">
      <div class="row">
        <div class="col-lg-12">

          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Categories List</h5>

              <!-- Table with stripped rows -->
              <div class="datatable-wrapper datatable-loading no-footer sortable searchable fixed-columns"><div class="datatable-top">


              </div>
                <div class="datatable-container">

                  <p-table
                    #dt1
                    [value]="categories"
                    dataKey="id"
                    [rows]="10"
                    [showCurrentPageReport]="true"
                    [rowsPerPageOptions]="[5, 10, 25]"
                    [loading]="loading"
                    [paginator]="true"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    [globalFilterFields]="['title', 'date']"
                    [tableStyle]="{ 'min-width': '40rem' }"
                  >
                    <ng-template pTemplate="header">
                      <tr>
                        <th style="width: 5.7174887892376685%;">
                          <div class="flex align-items-center">
                            Title
                            <p-columnFilter type="text" field="title" display="menu"></p-columnFilter>
                          </div>
                        </th>
                        <th style="width: 5.282511210762333%;">
                          <div class="flex align-items-center">
                            Date
                            <p-columnFilter type="text" field="date" display="menu"></p-columnFilter>
                          </div>
                        </th>


                        <th style="width: 5.282511210762333%;">
                          <div class="flex align-items-center">
                            Actions
                          </div>
                        </th>
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-category>
                      <tr>
                        <td>
                          <img [src]="category.image" style="width: 20px" /> {{ category.title }}
                        </td>
                        <td>
                          {{ category.date | date: 'dd/MM/yyyy' }}
                        </td>
                        <td>
                          <p-button (click)="deleteCategory(category)" icon="bi bi-trash" styleClass="p-button-danger" [style]="{ 'margin-right': '.5em' }"></p-button>

                          <p-button (click)="showDialog(category)" icon="bi bi-pencil" styleClass="p-button-warning"></p-button>

                        </td>
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                      <tr>
                        <td colspan="7">No categories found.</td>
                      </tr>
                    </ng-template>
                  </p-table>
                </div>
              </div>
              <!-- End Table with stripped rows -->

            </div>
          </div>

          <p-dialog header="Edit Category" [(visible)]="visible" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
            <app-edit-category></app-edit-category>
          </p-dialog>

        </div>
      </div>
    </section>

  </main>
</ng-container>

